export const metadata = {
  title: 'Quickstart',
  description:
    'Transfer a file peer-to-peer between nodes',
};


# Quickstart

The best way to experience the magic of iroh first hand is to try out one of the example products.
This guide will walk you through usage of the [`sendme`](https://www.iroh.computer/sendme) tool.


## About `sendme`

The `sendme` product is a very small CLI wrapper around the main [`iroh` networking library](https://docs.rs/iroh) and the [`iroh-blobs`](https://github.com/n0-computer/iroh-blobs/) protocol implementation.

Its implementation is a single, 700 LoC file, mostly handling file paths and progress bars.
You could have easily implemented something like sendme within 20 minutes using iroh!

This makes it a great demonstration of what iroh can do for you.


## Install `sendme`

You can download binaries on Unix systems by running `curl -fsSL https://iroh.computer/sendme.sh | sh`.
This will put the `sendme` executable into your current directory.
Run it using `./sendme`, or move it somewhere into your `PATH`.

Alternatively you can compile it from source using `cargo install sendme`.
This will put `sendme` into `$HOME/.cargo/bin/sendme` on Unix systems and similar places on other platforms.
Running `sendme` on your command line should work, otherwise make sure that this directory is configured in your `PATH`.


## Transfer a File

By running `sendme help` you can see how `sendme` works.

Find some file you want to transfer, I'm going to use a 6.8GB Windows iso image for this, and run `sendme send <path-to-file>`.

Depending on how big this file is, `sendme` will first "injest" this file:

```
$ sendme send ~/Downloads/Win11.iso
⠁ [00:00:00] [1/2] Ingesting 1 files, 6.33 GiB

[2/2] /home/user/Downloads/Win11.iso⠲ [00:00:02] [########>------------------------] 1.37 GiB/6.33 GiB
```

And finally print a so-called "ticket" together with a command to run on another machine allowing you to retreive this file there:

```
imported file /home/user/Downloads/Win11.iso, 6.33 GiB, hash 4022bfc57b48dad832425808e4075554757214327b82fbf29a58923ad6cef86f
to get this data, use
sendme receive blobabp7qggx4vk<...>
```

Now, possibly on any other machine, try receiving this file by copying the command that was printed above (with the whole ticket).
Make sure to keep the previous command running.

```
$ sendme receive blobabp7qggx4vk<...>
getting collection 4022bfc57b48dad832425808e4075554757214327b82fbf29a58923ad6cef86f 1 files, 6.33 GiB
[3/3] Downloading 3 blob(s)
⠒ [00:00:05] [##>----------------------------------------------------] 387.48 MiB/6.33 GiB 74.70 MiB/s
```

When this command finishes, your file will be put into your local directory, for example `ls Win11.iso`.

Feel free to try experimenting with this a bit.
Here's something you can try:
- Run a file transfer within a local network connected to an access point/router, but without internet access.
  If possible, iroh will still find a way to connect these devices.
- Try connecting once device to mobile cellular using tethering/a hotspot.
  It might be slower, but it should find a way for these devices to talk to each other either way.
  (Make sure not to burn your cellular data!)
- Try interrupting the download and re-starting it.
  Partial downloads will resume from where they last left off.


## Under the Hood

`sendme` is a fairly small (single file!) CLI wrapper around the `iroh-blobs` protocol using the `iroh` networking library.
If you want to check out how to build something like it, we recommend taking a look at [some example code of an even simpler version of sendme](https://github.com/n0-computer/iroh-blobs/blob/main/examples/transfer.rs).

### What does `iroh` do for `sendme`?

`sendme` uses `iroh` to establish direct connections between the devices trying to send and receive to each other.
Because `iroh` uses the [QUIC protocol](https://en.wikipedia.org/wiki/QUIC) underneath, it encrypts and authenticates these connections end-to-end.
It also uses [hole-punching](https://en.wikipedia.org/wiki/Hole_punching_(networking)) to try to establish a direct connection, even if the devices are behind NATs.
And if everthing fails, as long as you can open an HTTP website on both devices, iroh will be able to send data between the devices using relay servers.

<Note>
[number 0](https://n0.computer), the company behind iroh runs some public relay servers that iroh uses by default.
It's very easy to switch to your custom relay servers though:
All you need is a public IP address and a domain name pointed at that IP address.
The `iroh-relay` server code that we run for the public servers is [open source](https://github.com/n0-computer/iroh/tree/main/iroh-relay) and permissively licensed.
</Note>

Also, should your device have a change in its network (e.g. switch WiFis or move to cellular or back), iroh will migrate the connection in the background without `sendme`'s involvement.

Read more about iroh's features on the [overview page](/docs/overview).

### What is the `iroh-blobs` protocol?

In addition to `iroh`, `sendme` uses the `iroh-blobs` library and protocol for actually injesting the files and sending them via the iroh protocol.

This powers the resumption feature, allowing you to resume interrupted downloads.

In the first step when `sendme` is "injesting" a file, `iroh-blobs` runs the [BLAKE3](https://github.com/BLAKE3-team/BLAKE3) hashing function over the whole file.
Internally, BLAKE3 arranges the hashing in a tree structure, allowing you to resume a download and verify that the bytes from the resumption are exactly the data you wanted to have initially.

There's additional `iroh-blobs` features that `sendme` doesn't make use of yet, like queueing or deduplicating downloads and multi-provider fan-in in the future.


## Next Steps

- Understand how `sendme` works by looking at a similar, [simpler example](https://github.com/n0-computer/iroh-blobs/blob/main/examples/transfer.rs).
- Have a look at the [`iroh` rust API](https:://docs.rs/iroh)
- Check out Python, Swift, Kotlin and JavaScript bindings for iroh in the [`iroh-ffi` repository](https://github.com/n0-computer/iroh-ffi/)
